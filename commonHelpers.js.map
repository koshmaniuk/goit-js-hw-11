{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\n// axios.defaults.headers.common['key'] =\n//   '41245265-a97abc6deb4aa48b974617d51&q=cat+flowers&image_type=photo';\n\nconst form = document.querySelector('.search-form');\nconst list = document.querySelector('.gallery');\nconst btn = document.querySelector('.load-more');\n\nlet page = 1;\nbtn.style.display = 'none';\n\n// FORM CLICK\nfunction createMarkup(event) {\n  page = 1;\n  event.preventDefault();\n  list.innerHTML = '';\n  btn.style.display = 'none';\n  const item = event.target.elements.searchQuery.value;\n\n  imageFinder(item, page)\n    .then(res => {\n      if (res.data.hits.length !== 0) {\n        list.insertAdjacentHTML('beforeend', createImageMarkup(res.data.hits));\n        btn.style.display = 'block';\n        console.log(res);\n        page = 1\n      } else {\n        console.log(\n          'Sorry, there are no images matching your search query. Please try again.'\n        );\n      }\n    })\n    .catch(error => {\n      console.log('Error:', error);\n    });\n\n// BUTTON CLICK\n  function onLoadMore() {\n    page += 1;\n    imageFinder(item, page)\n      .then(res => {\n        console.log(page);\n        list.insertAdjacentHTML('beforeend', createImageMarkup(res.data.hits));\n      })\n      .catch(error => {\n        console.log('Error:', error);\n      });\n  }\n  btn.addEventListener('click', onLoadMore);\n}\n\nform.addEventListener('submit', createMarkup);\n\n// IMAGE FINDER\nasync function imageFinder(item, page) {\n  return await axios\n    .get(\n      `https://pixabay.com/api/?key=41245265-a97abc6deb4aa48b974617d51&q=${item}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${page}`\n    )\n    .then(resp => {\n      return resp;\n    })\n    .catch(error => {\n      throw new Error(error);\n    });\n}\n\n// MARKUP CREATOR\nfunction createImageMarkup(array) {\n  return array\n    .map(\n      ({ webformatURL, tags, likes, views, comments, downloads }) => `\n    <div class=\"photo-card\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"picture\"/>\n        <div class=\"info\">\n            <p class=\"info-item\">\n            <b>Likes ${likes}</b>\n            </p>\n            <p class=\"info-item\">\n            <b>Views ${views}</b>\n            </p>\n            <p class=\"info-item\">\n            <b>Comments ${comments}</b>\n            </p>\n            <p class=\"info-item\">\n            <b>Downloads ${downloads}</b>\n            </p>\n        </div>\n    </div>\n    `\n    )\n    .join('');\n}\n"],"names":["form","list","btn","page","createMarkup","event","item","imageFinder","res","createImageMarkup","error","onLoadMore","axios","resp","array","webformatURL","tags","likes","views","comments","downloads"],"mappings":"svBAIA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAM,SAAS,cAAc,YAAY,EAE/C,IAAIC,EAAO,EACXD,EAAI,MAAM,QAAU,OAGpB,SAASE,EAAaC,EAAO,CAC3BF,EAAO,EACPE,EAAM,eAAc,EACpBJ,EAAK,UAAY,GACjBC,EAAI,MAAM,QAAU,OACpB,MAAMI,EAAOD,EAAM,OAAO,SAAS,YAAY,MAE/CE,EAAYD,EAAMH,CAAI,EACnB,KAAKK,GAAO,CACPA,EAAI,KAAK,KAAK,SAAW,GAC3BP,EAAK,mBAAmB,YAAaQ,EAAkBD,EAAI,KAAK,IAAI,CAAC,EACrEN,EAAI,MAAM,QAAU,QACpB,QAAQ,IAAIM,CAAG,EACfL,EAAO,GAEP,QAAQ,IACN,0EACV,CAEA,CAAK,EACA,MAAMO,GAAS,CACd,QAAQ,IAAI,SAAUA,CAAK,CACjC,CAAK,EAGH,SAASC,GAAa,CACpBR,GAAQ,EACRI,EAAYD,EAAMH,CAAI,EACnB,KAAKK,GAAO,CACX,QAAQ,IAAIL,CAAI,EAChBF,EAAK,mBAAmB,YAAaQ,EAAkBD,EAAI,KAAK,IAAI,CAAC,CAC7E,CAAO,EACA,MAAME,GAAS,CACd,QAAQ,IAAI,SAAUA,CAAK,CACnC,CAAO,CACJ,CACDR,EAAI,iBAAiB,QAASS,CAAU,CAC1C,CAEAX,EAAK,iBAAiB,SAAUI,CAAY,EAG5C,eAAeG,EAAYD,EAAMH,EAAM,CACrC,OAAO,MAAMS,EACV,IACC,qEAAqEN,8EAAiFH,GACvJ,EACA,KAAKU,GACGA,CACR,EACA,MAAMH,GAAS,CACd,MAAM,IAAI,MAAMA,CAAK,CAC3B,CAAK,CACL,CAGA,SAASD,EAAkBK,EAAO,CAChC,OAAOA,EACJ,IACC,CAAC,CAAE,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,oBAEjDL,WAAsBC;AAAA;AAAA;AAAA,uBAGnBC;AAAA;AAAA;AAAA,uBAGAC;AAAA;AAAA;AAAA,0BAGGC;AAAA;AAAA;AAAA,2BAGCC;AAAA;AAAA;AAAA;AAAA,KAKtB,EACA,KAAK,EAAE,CACZ"}